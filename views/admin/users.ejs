<div class="d-flex flex-column flex-md-row align-items-center justify-content-between mb-4">
	<h1 class="h3 fw-bold mb-3 mb-md-0"><i class="fas fa-users text-primary me-2"></i>Gestione Utenti</h1>
	<span class="badge bg-primary bg-opacity-75 fs-6">
		Benvenuto,
		<% if (user) { %>
			<%= (user.first_name || user.last_name) ? ((user.first_name || '') + ' ' + (user.last_name || '')).trim() : (user.name || 'Admin') %>
		<% } else { %>
			Admin
		<% } %>
	</span>
</div>
<div class="card shadow-sm border-0 mb-4">
	<div class="card-body">
		<table class="table table-hover align-middle mb-0">
			<thead class="table-light">
				<tr>
					<th>#</th>
					<th>Email</th>
					<th>Nome</th>
					<th>Registrato il</th>
					<th>Azioni</th>
				</tr>
			</thead>
			<tbody>
				<% if (users && users.length) { %>
					<% users.forEach(function(u, i) { %>
						<tr>
							<td><%= i+1 %></td>
							<td><%= u.email %></td>
							<td><%= u.name || '-' %></td>
							<td><%= u.created_at ? u.created_at.toLocaleDateString() : '-' %></td>
							<td>
								<a href="#" class="btn btn-sm btn-outline-primary"><i class="fas fa-edit"></i></a>
								<a href="#" class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></a>
							</td>
						</tr>
					<% }) %>
				<% } else { %>
					<tr><td colspan="5" class="text-center text-muted">Nessun utente trovato.</td></tr>
				<% } %>
			</tbody>
		</table>
	</div>
</div>
